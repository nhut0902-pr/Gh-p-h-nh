<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Block Puzzle Master - Enhanced Edition</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="game-container">
        <!-- Enhanced Header with Score and Streak -->
        <header class="game-header">
            <div class="info-panel level-display">
                <div class="level-icon icon"></div>
                <span id="level-number">1</span>
            </div>
            <div class="info-panel score-display">
                <div class="star-icon icon"></div>
                <span id="score">0</span>
            </div>
            <div class="info-panel objective-display">
                <div class="crate-icon icon"></div>
                <span id="crates-collected">0</span> / <span id="crates-required">5</span>
            </div>
            <div class="info-panel coin-display">
                <div class="coin-icon icon"></div>
                <span id="coins-amount">500</span>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <div class="progress-text">
                <span id="progress-percentage">0%</span>
            </div>
        </div>

        <!-- Combo Display -->
        <div id="combo-display" class="combo-display hidden">
            <div class="combo-text">COMBO</div>
            <div id="combo-count" class="combo-count">x2</div>
        </div>

        <!-- Game Board -->
        <div id="game-board-wrapper">
            <div id="game-board"></div>
            <div id="preview-overlay" class="preview-overlay hidden"></div>
        </div>

        <!-- Enhanced Action Bar -->
        <div class="action-bar">
            <div id="power-up-bar">
                <!-- Power-ups will be populated here -->
            </div>
            <div class="action-buttons">
                <button id="hint-button" class="action-button hint-icon" title="G·ª£i √Ω"></button>
                <button id="store-button" class="action-button store-icon" title="C·ª≠a h√†ng"></button>
                <button id="settings-button" class="action-button settings-icon" title="C√†i ƒë·∫∑t"></button>
            </div>
        </div>

        <!-- Enhanced Piece Container -->
        <div id="piece-container">
            <div class="next-pieces-label">Kh·ªëi ti·∫øp theo:</div>
            <div id="pieces-grid"></div>
        </div>
    </div>

    <!-- Enhanced Settings Modal -->
    <div id="settings-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>‚öôÔ∏è C√†i ƒë·∫∑t</h2>
            <div class="settings-grid">
                <div class="setting-item">
                    <label for="sound-toggle">üîä √Çm thanh</label>
                    <button id="sound-toggle" class="toggle-button on">B·∫≠t</button>
                </div>
                <div class="setting-item">
                    <label for="vibration-toggle">üì≥ Rung</label>
                    <button id="vibration-toggle" class="toggle-button on">B·∫≠t</button>
                </div>
                <div class="setting-item">
                    <label for="hints-toggle">üí° G·ª£i √Ω t·ª± ƒë·ªông</label>
                    <button id="hints-toggle" class="toggle-button off">T·∫Øt</button>
                </div>
                <div class="setting-item">
                    <label for="difficulty-select">üéØ ƒê·ªô kh√≥</label>
                    <select id="difficulty-select" class="difficulty-select">
                        <option value="easy">D·ªÖ</option>
                        <option value="normal" selected>B√¨nh th∆∞·ªùng</option>
                        <option value="hard">Kh√≥</option>
                    </select>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="reset-game-button" class="danger-button">üîÑ Kh·ªüi ƒë·ªông l·∫°i</button>
                <button class="close-modal-button">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <!-- Enhanced Store Modal -->
    <div id="store-modal" class="modal-overlay hidden">
        <div class="modal-content store-modal">
            <h2>üõí C·ª≠a h√†ng V·∫≠t Ph·∫©m</h2>
            <div class="store-tabs">
                <button class="store-tab active" data-tab="powerups">V·∫≠t ph·∫©m</button>
                <button class="store-tab" data-tab="coins">Xu</button>
                <button class="store-tab" data-tab="themes">Giao di·ªán</button>
            </div>
            <div class="store-content">
                <div id="powerups-tab" class="store-grid active">
                    <!-- Power-ups will be populated here -->
                </div>
                <div id="coins-tab" class="store-grid">
                    <!-- Coin packages will be populated here -->
                </div>
                <div id="themes-tab" class="store-grid">
                    <!-- Themes will be populated here -->
                </div>
            </div>
            <button class="close-modal-button">ƒê√≥ng</button>
        </div>
    </div>

    <!-- Achievement Modal -->
    <div id="achievement-modal" class="modal-overlay hidden">
        <div class="modal-content achievement-modal">
            <div class="achievement-icon">üèÜ</div>
            <h2 id="achievement-title">Th√†nh t·ª±u m·ªü kh√≥a!</h2>
            <p id="achievement-description">B·∫°n ƒë√£ ƒë·∫°t ƒë∆∞·ª£c m·ªôt th√†nh t·ª±u m·ªõi!</p>
            <div class="achievement-reward">
                <div class="coin-icon icon"></div>
                <span id="achievement-coins">+50</span>
            </div>
            <button id="achievement-ok-button">Tuy·ªát v·ªùi!</button>
        </div>
    </div>

    <!-- Enhanced Notification Modal -->
    <div id="notification-modal" class="modal-overlay hidden">
        <div class="modal-content notification-modal">
            <div id="notification-icon" class="notification-icon">‚ÑπÔ∏è</div>
            <h2 id="notification-title">Th√¥ng b√°o</h2>
            <p id="notification-message">N·ªôi dung th√¥ng b√°o.</p>
            <div class="modal-buttons">
                <button id="notification-button" class="primary-button">OK</button>
            </div>
        </div>
    </div>

    <!-- Particle System -->
    <div id="particle-container"></div>

    <!-- Audio Library -->
    <script src="https://cdn.jsdelivr.net/npm/zzfx@1.1.2/ZzFX.min.js"></script>
    <!-- Game Script -->
    <script src="script.js"></script>
</body>
</html>
